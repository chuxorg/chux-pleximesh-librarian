# LIB-003 â€” Mongo Reset, Migration & Seed Import

## Status
Active

## Objective

Reset the MongoDB instance and **repopulate the Librarian database from disk-based seed artifacts**, preserving intent content while discarding legacy structure.

This task ensures a clean, authoritative Canon.

---

## Scope

### In Scope

- Drop existing Mongo collections
- Recreate canonical schema
- Seed artifacts from disk
- Emit audit events for each imported artifact

### Out of Scope

- Preserving legacy Mongo structure
- Preserving object IDs
- Preserving directory hierarchy semantics

---

## Seed Source

Artifacts MUST be imported from a defined seed directory:


library_seed/
phases/
tasks/
policies/
seed-manifest.v0.yaml


Filesystem is **input only**, never authoritative.

---

## Import Rules

- Each artifact becomes immutable DB record
- Version inferred from filename or metadata
- Checksum computed at import
- `artifact.imported` event emitted
- Duplicate `(artifact_id, version)` is a hard error

---

## Acceptance Criteria

1. Mongo is reset cleanly
2. Canonical schema is recreated
3. All seed artifacts are imported
4. Audit events exist for each artifact
5. Librarian API serves imported artifacts
6. No legacy structure leaks into Canon

---

## Notes

This task intentionally **breaks backward compatibility**
in favor of long-term correctness.
